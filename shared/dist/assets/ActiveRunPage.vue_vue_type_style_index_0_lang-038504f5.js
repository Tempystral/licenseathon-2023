import{u as g,d as T,b as z,c as D}from"./defaults-ef2c609d.js";import{I as L}from"./index-52bcc1f4.js";import{d as v,p as V,c as r,F as b,e as w,n as d,o,a as u,f as N,t as _,l as h,j as I,w as P,b as l,i as f,q as R,k,T as C,u as y,r as O}from"./index-abac9e88.js";import{a as S,g as B}from"./updatetime-0becb4ed.js";const x="/bundles/licenseathon-vue/shared/dist/assets/layout-1p-16-9-54a240f5.svg",E="/bundles/licenseathon-vue/shared/dist/assets/layout-1p-3-2-3d0a64b3.svg",F="/bundles/licenseathon-vue/shared/dist/assets/layout-1p-4-3-c53c0083.svg",j="/bundles/licenseathon-vue/shared/dist/assets/layout-1p-ds-27158b68.svg",A="/bundles/licenseathon-vue/shared/dist/assets/layout-2p-16-9-362aca39.svg",G="/bundles/licenseathon-vue/shared/dist/assets/layout-2p-4-3-6975bbc4.svg",q="/bundles/licenseathon-vue/shared/dist/assets/layout-3p-3-way-5ce30013.svg",M={key:0},U=v({__name:"CommentatorDisplayComponent",props:{ratio:{},players:{}},setup(p){const a=g("commentators","licenseathon-vue",{defaultValue:{names:["",""]}}),i=()=>a.data.names.filter(t=>t.length>0);return(t,e)=>{const s=V("font-awesome-icon");return o(),r("div",{class:d(`comms-container layout-${t.ratio} layout-${t.players}p`)},[(o(!0),r(b,null,w(i(),n=>(o(),r("span",{key:n,class:d("commentator")},[n.length?(o(),r("span",M,[u(s,{icon:"fa-solid fa-microphone",class:"userIcon"}),N(" "+_(n),1)])):h("",!0)]))),128))],2)}}});const H=["id"],J={class:"game-name-container info-container"},K={id:"game-name",class:"fit"},Q={class:"game-category-container info-container"},W={id:"game-category",class:"fit"},X={class:"game-estimate-container info-container"},Y={id:"game-estimate",class:"fit"},Z=v({__name:"GameInfoPanel",props:{activeRun:{},players:{}},setup(p){const a=p,i=g("runDataActiveRun","nodecg-speedcontrol",{defaultValue:T}),t=()=>{let e={};a.players===1&&(e={multiLine:!0,minSize:14,maxSize:24}),a.players>1&&(e={multiLine:!0,minSize:11,maxSize:18}),S(["#game-name","#game-category","#game-estimate"],e)};return I(t),P(()=>i==null?void 0:i.data,t),(e,s)=>{var n,c;return e.activeRun?(o(),r("div",{key:0,class:d(["game-container",`layout-${e.players}p`]),id:e.activeRun.id},[l("div",J,[l("p",K,_((n=e.activeRun)==null?void 0:n.game),1)]),l("div",Q,[l("p",W,_((c=e.activeRun)==null?void 0:c.category),1)]),l("div",X,[l("p",Y,_(e.activeRun.estimate),1)])],10,H)):h("",!0)}}});const ee=v({__name:"RaceTimerComponent",props:{id:{},ratio:{},position:{}},setup(p){const a=p,i=g("timer","nodecg-speedcontrol",{defaultValue:z}),t=f(()=>{var e;return(e=i==null?void 0:i.data)==null?void 0:e.teamFinishTimes[a.id]});return(e,s)=>(o(),R(C,{name:"wipe"},{default:k(()=>{var n,c;return[t.value?(o(),r("div",{key:0,class:d(`timer timer-${(n=t.value)==null?void 0:n.state} player-${e.position}`)},_((c=t.value)==null?void 0:c.time),3)):h("",!0)]}),_:1}))}});const ae=["data-player"],se={key:0,class:"player-name-container"},te={class:"wrapper"},ne={id:"player-name",class:"fit"},oe={key:1,class:"player-social-container"},ie={class:"wrapper"},le={id:"player-social",class:"fit"},re={class:"player-pronouns-container"},ce={class:"wrapper fit",id:"player-pronouns"},pe=v({__name:"RunnerInfoPanel",props:{player:{},ratio:{},position:{}},setup(p){const a=p;f(()=>{var s;return(s=a.player.pronouns)==null?void 0:s.split(",")});const i=B(),t=f(()=>({multiLine:!0,minSize:14,maxSize:24})),e=()=>{S(["#player-name","#player-social"],t.value),S(["#player-pronouns"],{multiLine:!0,minSize:10,maxSize:14})};return I(()=>{e()}),P(()=>a.player,e),(s,n)=>{const c=V("font-awesome-icon");return o(),r("div",{class:d(["player-container",`layout-${s.ratio}`,`player-${s.position}`]),"data-player":`${s.player.id}`},[u(C,{name:"wipe",onEnter:e},{default:k(()=>[y(i)<30?(o(),r("div",se,[u(c,{icon:"fa-solid fa-gamepad",class:"icon"}),l("span",te,[l("span",ne,_(s.player.name),1)])])):y(i)>=30?(o(),r("div",oe,[u(c,{icon:"fa-brands fa-twitch",class:"icon"}),l("span",ie,[l("span",le,_(s.player.social.twitch),1)])])):h("",!0)]),_:1}),l("div",re,[u(C,{name:"wipe"},{default:k(()=>[l("span",ce,_(s.player.pronouns),1)]),_:1})])],10,ae)}}});const ue=v({__name:"TimerComponent",props:{ratio:{},players:{}},setup(p){const a=g("timer","nodecg-speedcontrol",{defaultValue:z}),i=f(()=>{var t;return((t=a==null?void 0:a.data)==null?void 0:t.state)||"stopped"});return(t,e)=>{var s,n;return o(),r("div",{class:d(`timer-container layout-${t.ratio} layout-${t.players}p`)},[l("span",{class:d(`timer-${i.value}`)},_((n=(s=y(a))==null?void 0:s.data)==null?void 0:n.time),3)],2)}}});const ve=v({__name:"ActiveRunPage",props:{players:{},ratio:{}},setup(p){const a=p,i=new URL(Object.assign({"../assets/layout-1p-16-9.svg":x,"../assets/layout-1p-3-2.svg":E,"../assets/layout-1p-4-3.svg":F,"../assets/layout-1p-ds.svg":j,"../assets/layout-2p-16-9.svg":A,"../assets/layout-2p-4-3.svg":G,"../assets/layout-3p-3-way.svg":q})[`../assets/layout-${a.players}p-${a.ratio}.svg`],self.location).href,t=O(null),e=g("runDataActiveRun","nodecg-speedcontrol",{defaultValue:T}),s=f(()=>{var c;const n=(c=e==null?void 0:e.data)==null?void 0:c.teams.map($=>$.players[0]);return n||[D]});return(n,c)=>{var $;return o(),r("div",null,[u(y(L),{src:y(i),ref_key:"layoutRef",ref:t,id:"layout"},null,8,["src"]),l("div",{class:d(["layout-container",{solo:n.players==1,race:n.players>1},`ratio-${n.ratio}`])},[(o(!0),r(b,null,w(s.value,m=>(o(),R(pe,{key:s.value.indexOf(m),player:m,ratio:a.ratio,position:s.value.indexOf(m)+1},null,8,["player","ratio","position"]))),128)),u(U,{ratio:a.ratio,players:a.players},null,8,["ratio","players"]),u(Z,{"active-run":($=y(e))==null?void 0:$.data,players:a.players},null,8,["active-run","players"]),u(ue,{ratio:a.ratio,players:a.players},null,8,["ratio","players"]),a.players>1?(o(),r("div",{key:0,class:d(`finish-timer-container layout-${n.ratio}`)},[(o(!0),r(b,null,w(s.value,m=>(o(),R(ee,{key:s.value.indexOf(m),id:m.teamID,ratio:a.ratio,position:s.value.indexOf(m)+1},null,8,["id","ratio","position"]))),128))],2)):h("",!0)],2)])}}});export{ve as _};
